<!DOCTYPE html>
<html lang="fi">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <title>Renovo App</title>
  </head>
  <body>
    <!-- Header -->
    <header>
      <div class="left-header">
        <button class="back-button" onclick="window.location.href='https://www.terveystalo.com'">
          â†© Palaa Terveystaloon
        </button>
        <div class="logo">Renovo</div>
      </div>
      <div class="right-header">
        <span id="show-username-header"></span>
        <button id="log-out-user">
          <img src="/img/logout.png" alt="Kirjaudu ulos" class="logout-icon">
          Kirjaudu ulos</button>
      </div>
    </header>

    <!-- Navigaatio -->
  <div class="nav-bar">
    <div id="mob-nav">
      <div class="line-1"></div>
      <div class="line-2"></div>
      <div class="line-3"></div>
    </div>
    <div class="logo-mob">Renovo</div>
    <a href="home.html">Etusivu</a>
    <a href="calendar.html">Kalenteri</a>
    <a href="hrv.html">Tulokset</a>
    <a href="info.html">Info</a>
  </div>

  <!-- Mobiili Navigaatio -->
  <div class="mob-nav-bar">
    <ul>
        <li><a href="home.html">Etusivu</a></li>
        <li><a href="calendar.html">Kalenteri</a></li>
        <li><a href="hrv.html">Tulokset</a></li>
        <li><a href="info.html">Info</a></li>
    </ul>
  </div>

    <!-- SisÃ¤ltÃ¶ -->
    <div class="calendar-container">

      <!-- YlÃ¤osa: otsikko ja painikkeet -->
      <div class="calendar-header">
        <div class="calendar-title">Kalenteri</div>
        <div class="calendar-description">
          Painikkeiden avulla voit syÃ¶ttÃ¤Ã¤ tyÃ¶vuorosi sekÃ¤ muut rasitukseen ja palautumiseen vaikuttavat tapahtumat kalenteriin.
          Voit muokata tai poistaa tallentamiasi tapahtumia painamalla kaleterista kyseistÃ¤ tapahtumaa.
        </div>
        <div class="calendar-description">
          <b>Kalenterin alaosassa olevasta painikkeesta lÃ¶ydÃ¤t lisÃ¤tietoa tapahtumien tÃ¤yttÃ¶Ã¶n liittyen.</b>
        </div>
        <div class="calendar-buttons">
          <button id="openShiftModal">LisÃ¤Ã¤ tyÃ¶vuoroja</button>
          <button id="openExerciseModal">LisÃ¤Ã¤ liikunta</button>
          <button id="openSicknessModal">LisÃ¤Ã¤ sairastuminen</button>
          <button id="openOthersModal">Muut tapahtumat</button>
        </div>
      </div>

      <!-- KalenterinÃ¤kymÃ¤ -->
      <div class="calendar-view">
        <div id="calendarView"></div>
        <button id="event-instructions">LisÃ¤tietoa tapahtumien tallennuksesta</button>
      </div>

      <!-- Info-osuus -->
      <div class="calendar-info">
        <div class="shift-info-box">
          <h4>TyÃ¶vuorot</h4>
          <p>On tÃ¤rkeÃ¤Ã¤ merkitÃ¤ tyÃ¶vuorosi kalenteriin. TyÃ¶vuorot voivat vaikuttaa unirytmiisi ja aiheuttaa henkistÃ¤ ja fyysistÃ¤ rasitusta,
            jotka nÃ¤kyvÃ¤t mittaustuloksissasi. Terveystalon ammattilaiset voivat arvioida tyÃ¶n vaikutusta jaksamiseesi vertaamalla
            tyÃ¶vuorojasi ja HRV-tuloksiasi.</p>
        </div>

        <div class="exercise-info-box">
          <h4>Liikunta</h4>
          <p>SÃ¤Ã¤nnÃ¶llinen liikunta parantaa peruskuntoasi, mikÃ¤ parantaa myÃ¶s mittaustuloksiasi.
            Korkeasykkeiset ja raskaat liikuntaharjoitukset vaativat palautumista ja voivat heikentÃ¤Ã¤ HRV-tuloksiasi muutamaksi pÃ¤ivÃ¤ksi,
            eikÃ¤ siitÃ¤ tarvitse olla huolissaan. </p>
        </div>

        <div class="sickness-info-box">
          <h4>Sairastuminen</h4>
          <p>LievÃ¤tkin tulehdukset ja sairaudet nÃ¤kyvÃ¤t HRV-arvoissasi ja vaikuttavat jaksamiseesi.
            Kaikki sairastumiset kannattaa merkitÃ¤ kalenteriin, sillÃ¤ nÃ¤mÃ¤ merkinnÃ¤t auttavat Terveystalon
            ammattilaisia tulostesi tulkitsemisessa.</p>
        </div>

        <div class="others-info-box">
          <h4>Muut</h4>
          <p>Joskus elÃ¤mÃ¤ssÃ¤ on tilanteita, jotka vaikuttavat uneen ja jaksamiseen tai aiheuttavat ylimÃ¤Ã¤rÃ¤istÃ¤ stressiÃ¤.
            Esimerkiksi huoli lÃ¤heisen voinnista, nukkuminen meluisassa ympÃ¤ristÃ¶ssÃ¤ tai myÃ¶hÃ¤Ã¤n valvominen juhlissa voivat
            nÃ¤kyÃ¤ poikkeuksina tuloksissasi.</p>
        </div>
      </div>

    </div>

    <!-- TyÃ¶vuorojen lisÃ¤ysmodaali -->
    <div id="shiftModal" class="calendar-modal">
      <div class="calendar-modal-content" style="position: relative;">
        <span class="calendar-modal-close" id="shiftCloseX" onclick="closeModal('shiftModal')">&times;</span>
        <h2>TyÃ¶vuorojen lisÃ¤Ã¤minen</h2>
        <p>TÃ¤ytÃ¤ alle tyÃ¶vuorojen alkamis- ja pÃ¤Ã¤ttymisajat. JÃ¤tÃ¤ vapaapÃ¤ivÃ¤t tyhjiksi.</p>
        <p>HUOM! Jos tyÃ¶vuoro loppuu seuraavan vuorokauden puolella merkitse loppumisajankohta normaalisti.
           Ã„lÃ¤ merkitse loppumisaikaa seuraavan pÃ¤ivÃ¤n sarakkeeseen, sovellus tunnistaa automaattisesti vuorokaudenylityksen.</p>
        <form id="shiftForm">
          <div class="form-shift-table">
            <div class="form-shift-header"><span>Vuoron aloitus:</span><span>Vuoron lopetus:</span></div>
          </div>
          <div class="calendar-modal-actions">
            <button type="submit">Tallenna</button>
            <button type="button" onclick="closeModal('shiftModal')">Peruuta</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Liikunta Modaali -->
    <div id="exerciseModal" class="calendar-modal">
      <div class="calendar-modal-content" style="position: relative;">
        <span class="calendar-modal-close" id="exerciseCloseX" onclick="closeModal('exerciseModal')">&times;</span>
        <h2>LisÃ¤Ã¤ liikunta</h2>
        <p>*Pakolliset</p>
        <form id="exerciseForm">
          <label>*PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤: <input type="date" name="exercise_date" required></label>
          <label>*Liikuntatyyppi: <input type="text" name="exercise_type" required></label>
          <label>*Alkaa: <input type="time" name="start_time" id="exercise_start_time" required></label>
          <label>*PÃ¤Ã¤ttyy: <input type="time" name="end_time" id="exercise_end_time" required></label>
          <label>*Taso:
            <div class="emoji-rating">
              <input type="radio" id="exercise-low" name="level" value="Low" required>
              <label for="exercise-low">ğŸ˜Š</label>
              <input type="radio" id="exercise-medium" name="level" value="Medium">
              <label for="exercise-medium">ğŸ˜</label>
              <input type="radio" id="exercise-high" name="level" value="High">
              <label for="exercise-high">ğŸ˜«</label>
            </div>
          </label>
          <label>Muistiinpanot: <textarea name="notes" id="exerciseTextArea"></textarea></label>
          <div class="calendar-modal-actions">
            <button type="submit" id="saveMyExercise">Tallenna</button>
            <button type="button" onclick="closeModal('exerciseModal')">Peruuta</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Sairastuminen Modaali -->
    <div id="sicknessModal" class="calendar-modal">
      <div class="calendar-modal-content" style="position: relative;">
        <span class="calendar-modal-close" id="sicknessCloseX" onclick="closeModal('sicknessModal')">&times;</span>
        <h2>LisÃ¤Ã¤ sairastuminen</h2>
        <p>*Pakolliset</p>
        <form id="sicknessForm">
          <label>*PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤: <input type="date" name="sickness_date" required></label>
          <label>*Kuvaus: <input type="text" name="description" id="sick_description" required></label>
          <label>*Vaikutus:
            <div class="emoji-rating">
              <input type="radio" id="sickness-low" name="impact" value="Low" required>
              <label for="sickness-low">ğŸ˜Š</label>
              <input type="radio" id="sickness-medium" name="impact" value="Medium">
              <label for="sickness-medium">ğŸ˜</label>
              <input type="radio" id="sickness-high" name="impact" value="High">
              <label for="sickness-high">ğŸ˜«</label>
            </div>
          </label>
          <label>Muistiinpanot: <textarea name="notes" id="sicknessTextArea"></textarea></label>
          <div class="calendar-modal-actions">
            <button type="submit" id="saveMySickness">Tallenna</button>
            <button type="button" onclick="closeModal('sicknessModal')">Peruuta</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Muut tapahtumat Modaali -->
    <div id="othersModal" class="calendar-modal">
      <div class="calendar-modal-content" style="position: relative;">
        <span class="calendar-modal-close" id="othersCloseX" onclick="closeModal('othersModal')">&times;</span>
        <h2>Muu tapahtuma</h2>
        <p>*Pakolliset</p>
        <form id="othersForm">
          <label>*PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤: <input type="date" name="others_date" required></label>
          <label>*Kuvaus: <input type="text" name="description" id="other_description" required></label>
          <label>*Intensiteetti:
            <div class="emoji-rating">
              <input type="radio" id="others-low" name="intensity" value="Low" required>
              <label for="others-low">ğŸ˜Š</label>
              <input type="radio" id="others-medium" name="intensity" value="Medium">
              <label for="others-medium">ğŸ˜</label>
              <input type="radio" id="others-high" name="intensity" value="High">
              <label for="others-high">ğŸ˜«</label>
            </div>
          </label>
          <label>Muistiinpanot: <textarea name="notes" id="othersTextArea"></textarea></label>
          <div class="calendar-modal-actions">
            <button type="submit" id="saveMyOthers">Tallenna</button>
            <button type="button" onclick="closeModal('othersModal')">Peruuta</button>
          </div>
        </form>
      </div>
    </div>

        <!-- TyÃ¶vuoron muokkausmodaali -->
    <div id="editShiftModal" class="calendar-modal">
      <div class="calendar-modal-content">
        <span class="calendar-modal-close" onclick="closeModal('editShiftModal')">&times;</span>
        <h2>Muokkaa tyÃ¶vuoroa</h2>
        <form id="editShiftForm">
          <input type="hidden" id="eventId">
          <label>PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤: <input type="date" id="editDate" required></label>
          <label>Alkaa: <input type="time" id="editStartTime" required></label>
          <label>PÃ¤Ã¤ttyy: <input type="time" id="editEndTime" required></label>
          <div class="calendar-modal-actions">
            <button type="submit">Tallenna</button>
            <button type="button" id="deleteShiftButton" style="background-color:red;color:white;">Poista</button>
            <button type="button" onclick="closeModal('editShiftModal')">Peruuta</button>
          </div>
        </form>
      </div>
    </div>

    <!-- muiden muokkausmodaali -->
    <div id="editModal" class="calendar-modal">
      <div class="calendar-modal-content" style="position: relative;">
        <span class="calendar-modal-close" onclick="closeModal('editModal')">&times;</span>
        <h2>Muokkaa tapahtumaa</h2>
        <form id="editEventForm">
          <input type="hidden" name="event_id">
          <input type="hidden" name="event_type">
          <label>PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤: <input type="date" name="date" required></label>
          <label>Kuvaus / tyyppi: <input type="text" name="description" required></label>
          <label>Alkaa: <input type="time" name="start_time"></label>
          <label>PÃ¤Ã¤ttyy: <input type="time" name="end_time"></label>
          <label>Taso / vaikutus / intensiteetti:
            <select name="level">
              <option value="Low">ğŸ˜Š</option>
              <option value="Medium">ğŸ˜</option>
              <option value="High">ğŸ˜«</option>
            </select>
          </label>
          <label>Muistiinpanot: <textarea name="notes"></textarea></label>
          <div class="calendar-modal-actions">
            <button type="submit">Tallenna muutokset</button>
            <button type="button" id="deleteEventButton" style="background-color:red;color:white;">Poista</button>
            <button type="button" onclick="closeModal('editModal')">Peruuta</button>
          </div>
        </form>
      </div>
    </div>
    <footer>Student Project@Renovo App 2025</footer>
    <button id="backTopBtn" title="Takaisin ylÃ¶s"><p><i class="arrow up"></i></p></button>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <script type="module" src="/src/scripts/main.js"></script>
    <script type="module" src="/src/scripts/calendar-core.js"></script>
  </body>
</html>
